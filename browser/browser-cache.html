<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器缓存 | 前端知识</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" type="image/x-icon" href="/frontend-knowledge/favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/frontend-knowledge/assets/css/0.styles.cfe501a9.css" as="style"><link rel="preload" href="/frontend-knowledge/assets/js/app.94920fe9.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/2.bbdaf1c6.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/21.efcd3a86.js" as="script"><link rel="prefetch" href="/frontend-knowledge/assets/js/10.eed446fa.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/11.6f64ceae.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/12.822be152.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/13.1d46380b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/14.444d2077.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/15.da3edc6c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/16.436d14e3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/17.ded0059b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/18.7defbb09.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/19.5c9d195a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/20.c73de29c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/22.86a1e067.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/23.64c7c51d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/24.841f41c5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/25.55c20d30.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/26.ccfa5cd4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/27.51ea4934.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/28.ccb57ba6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/29.2fa8a7ed.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/3.5dfaa497.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/30.9a38e0fb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/31.36a7828b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/32.94b96e10.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/33.f59bf518.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/34.347c317c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/35.6f054e79.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/36.6bd3572f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/37.3dfd5821.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/38.b5c0577e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/4.0044888e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/5.47745d7b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/6.4390631f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/7.5a15f89b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/8.6c50572c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/9.5dfec621.js">
    <link rel="stylesheet" href="/frontend-knowledge/assets/css/0.styles.cfe501a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-knowledge/" class="home-link router-link-active"><!----> <span class="site-name">前端知识</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/3scarecrow/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/3scarecrow/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Home</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/javascript/variable-and-type.html" class="sidebar-link">🔔 变量与类型</a></li><li><a href="/frontend-knowledge/javascript/execution-context.html" class="sidebar-link">🎭 执行上下文</a></li><li><a href="/frontend-knowledge/javascript/scope-chain-and-closure.html" class="sidebar-link">⚜️ 作用域链与闭包</a></li><li><a href="/frontend-knowledge/javascript/prototype-chain.html" class="sidebar-link">🔱 原型与原型链</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>执行机制</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/javascript/event-loop.html" class="sidebar-link">Event Loop</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>手写系列</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>浏览器</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/browser/cross-origin.html" class="sidebar-link">跨域</a></li><li><a href="/frontend-knowledge/browser/critical-rendering-path.html" class="sidebar-link">关键渲染路径</a></li><li><a href="/frontend-knowledge/browser/browser-cache.html" aria-current="page" class="active sidebar-link">浏览器缓存</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-knowledge/browser/browser-cache.html#内存缓存" class="sidebar-link">内存缓存</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/browser/browser-cache.html#service-worker-缓存" class="sidebar-link">Service Worker 缓存</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/browser/browser-cache.html#http-缓存" class="sidebar-link">HTTP 缓存</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/browser/browser-cache.html#推送缓存" class="sidebar-link">推送缓存</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/browser/browser-cache.html#参考文章" class="sidebar-link">参考文章</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="浏览器缓存"><a href="#浏览器缓存" class="header-anchor">#</a> 浏览器缓存</h1> <p>正确的进行缓存能够节省宽带，减低服务器成本，并加快响应速度，是性能优化的一大利器。</p> <p>那么浏览器中的缓存又是怎样的？</p> <p>其实，我们发送一个请求时，该请求会先在浏览器缓存中找到其匹配的资源，该过程会经历四个缓存的地方</p> <h2 id="内存缓存"><a href="#内存缓存" class="header-anchor">#</a> 内存缓存</h2> <p>首先，它会在内存缓存（Memory Cache）中寻找。内存缓存有一个装满资源的容器。它包含当前文档获取并在文档生存期内保留的所有资源，如果请求寻找的资源已在当前文档的其他位置获取，则该资源将在内存缓存中找到。内存缓存的生存期是很短的，仅仅将资源保留到导航结束为止。</p> <p>那么有哪些资源会被储存到内存缓存中呢？</p> <ul><li><p><a href="https://calendar.perfplanet.com/2013/big-bad-preloader/" target="_blank" rel="noopener noreferrer">预加载器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 可能是占内存缓存的资源最大的部分。如果请求是由 HTML 解析器创建 DOM 节点而创建的，则很有可能在 HTML 标记化（&quot;tokenization&quot;）阶段就已经获取到所需的资源。常见会被预加载的资源一般包括脚本，外部 CSS 和 <code>&lt;img&gt;</code> 标签中的图像</p></li> <li><p>通过显式的<a href="https://www.smashingmagazine.com/2016/02/preload-what-is-it-good-for/" target="_blank" rel="noopener noreferrer">预加载<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>指令（<code>&lt;link rel=preload&gt;</code>）占据了另一大部分，其中预加载的资源也存储在内存缓存中</p></li></ul> <h2 id="service-worker-缓存"><a href="#service-worker-缓存" class="header-anchor">#</a> Service Worker 缓存</h2> <blockquote><p>Service Worker 是浏览器独立于网页在后台运行的脚本。这些脚本使您可以访问不需要网页或用户交互的功能，例如推送通知、后台同步和离线体验。</p></blockquote> <p>目前 Service Worker 已包括了推送通知和后台同步等功能，还可以拦截和处理网络请求，包括通过程序来管理缓存中的响应。</p> <p>而 <a href="https://developers.google.com/web/fundamentals/primers/service-workers" target="_blank" rel="noopener noreferrer">Service Worker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 能够实现缓存是由于其具有 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Cache" target="_blank" rel="noopener noreferrer">Cache API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，该 API 能够缓存请求的响应</p> <h2 id="http-缓存"><a href="#http-缓存" class="header-anchor">#</a> HTTP 缓存</h2> <p>HTTP 缓存也称为 &quot;磁盘缓存&quot;，其缓存的资源存储于硬盘中，读取速度较慢，与内存缓存相比，胜在存储容量和存储时效上。</p> <p>浏览器命中的绝大部分缓存都来自 HTTP 缓存。</p> <h2 id="推送缓存"><a href="#推送缓存" class="header-anchor">#</a> 推送缓存</h2> <p>推送缓存（Push Cache）是存储 HTTP/2 服务端推送资源的地方，该容器是不可持久的，仅在会话（session）中存在，如果会话终止，所有未与请求匹配的资源都失效。最重要的是，资源仅在有限的时间内保留在推送缓存容器中。（在基于 Chromium 的浏览器中约为 5 分钟）。</p> <p>推送缓存根据其 URL 以及其各种请求标签将请求与资源匹配，但并不严格遵守 HTTP 头的缓存指令</p> <h2 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h2> <ul><li><a href="https://calendar.perfplanet.com/2016/a-tale-of-four-caches/" target="_blank" rel="noopener noreferrer">A Tale of Four Caches<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/6/2020, 2:43:50 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend-knowledge/browser/critical-rendering-path.html" class="prev">
        关键渲染路径
      </a></span> <span class="next"><a href="/frontend-knowledge/network/dns.html">
        DNS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/frontend-knowledge/assets/js/app.94920fe9.js" defer></script><script src="/frontend-knowledge/assets/js/2.bbdaf1c6.js" defer></script><script src="/frontend-knowledge/assets/js/21.efcd3a86.js" defer></script>
  </body>
</html>
