<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>跨域 | 前端知识</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" type="image/x-icon" href="/frontend-knowledge/favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/frontend-knowledge/assets/css/0.styles.cfe501a9.css" as="style"><link rel="preload" href="/frontend-knowledge/assets/js/app.94920fe9.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/2.bbdaf1c6.js" as="script"><link rel="preload" href="/frontend-knowledge/assets/js/22.86a1e067.js" as="script"><link rel="prefetch" href="/frontend-knowledge/assets/js/10.eed446fa.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/11.6f64ceae.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/12.822be152.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/13.1d46380b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/14.444d2077.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/15.da3edc6c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/16.436d14e3.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/17.ded0059b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/18.7defbb09.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/19.5c9d195a.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/20.c73de29c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/21.efcd3a86.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/23.64c7c51d.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/24.841f41c5.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/25.55c20d30.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/26.ccfa5cd4.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/27.51ea4934.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/28.ccb57ba6.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/29.2fa8a7ed.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/3.5dfaa497.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/30.9a38e0fb.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/31.36a7828b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/32.94b96e10.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/33.f59bf518.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/34.347c317c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/35.6f054e79.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/36.6bd3572f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/37.3dfd5821.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/38.b5c0577e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/4.0044888e.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/5.47745d7b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/6.4390631f.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/7.5a15f89b.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/8.6c50572c.js"><link rel="prefetch" href="/frontend-knowledge/assets/js/9.5dfec621.js">
    <link rel="stylesheet" href="/frontend-knowledge/assets/css/0.styles.cfe501a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-knowledge/" class="home-link router-link-active"><!----> <span class="site-name">前端知识</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/3scarecrow/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/3scarecrow/frontend-knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Home</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/javascript/variable-and-type.html" class="sidebar-link">🔔 变量与类型</a></li><li><a href="/frontend-knowledge/javascript/execution-context.html" class="sidebar-link">🎭 执行上下文</a></li><li><a href="/frontend-knowledge/javascript/scope-chain-and-closure.html" class="sidebar-link">⚜️ 作用域链与闭包</a></li><li><a href="/frontend-knowledge/javascript/prototype-chain.html" class="sidebar-link">🔱 原型与原型链</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>执行机制</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/javascript/event-loop.html" class="sidebar-link">Event Loop</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>手写系列</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>浏览器</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-knowledge/browser/cross-origin.html" aria-current="page" class="active sidebar-link">跨域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-knowledge/browser/cross-origin.html#跨域网络访问" class="sidebar-link">跨域网络访问</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/browser/cross-origin.html#跨域脚本api访问" class="sidebar-link">跨域脚本API访问</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/browser/cross-origin.html#跨域数据存储访问" class="sidebar-link">跨域数据存储访问</a></li><li class="sidebar-sub-header"><a href="/frontend-knowledge/browser/cross-origin.html#参考文章" class="sidebar-link">参考文章</a></li></ul></li><li><a href="/frontend-knowledge/browser/critical-rendering-path.html" class="sidebar-link">关键渲染路径</a></li><li><a href="/frontend-knowledge/browser/browser-cache.html" class="sidebar-link">浏览器缓存</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h1> <p></p><div class="table-of-contents"><ul><li><a href="#跨域网络访问">跨域网络访问</a><ul><li><a href="#jsonp">JSONP</a></li><li><a href="#cors">CORS</a></li><li><a href="#node-中间层">Node 中间层</a></li></ul></li><li><a href="#跨域脚本api访问">跨域脚本API访问</a><ul><li><a href="#window-postmessage">window.postMessage</a></li><li><a href="#document-domain">document.domain</a></li><li><a href="#window-name">window.name</a></li></ul></li><li><a href="#跨域数据存储访问">跨域数据存储访问</a></li><li><a href="#参考文章">参考文章</a></li></ul></div><p></p> <p>跨域是由于浏览器的<strong>同源策略</strong>的安全机制引起的，也就是说一个源的文档或页面不能访问另一个源的文档或页面。</p> <blockquote><p>同源策略是一个重要的安全策略，它用于限制一个 origin 的文档或者它加载的脚本如何能与另一个源的资源进行交互。它能帮助阻隔恶意文档，减少可能被攻击的媒介。</p></blockquote> <div class="custom-block tip"><p class="custom-block-title">注意</p> <p><strong>跨域时请求是已经发送出去，且服务端能收到请求并正常返回结果，只是结果被浏览器拦截了</strong></p></div> <p>同源指的是<strong>协议</strong>，<strong>域名</strong>和<strong>端口</strong>都相同的情况下才算同源，三者之一不同则被视为非同源</p> <p>而浏览器的同源策略主要是为了限制以下三种非同源的情况：</p> <ul><li><strong>网络请求</strong></li> <li><strong>脚本 API 访问</strong></li> <li><strong>数据存储</strong></li></ul> <p>而我们能够解决的是 <strong>网络请求</strong> 和 <strong>脚本 API 访问</strong></p> <h2 id="跨域网络访问"><a href="#跨域网络访问" class="header-anchor">#</a> 跨域网络访问</h2> <p>跨域网络访问指的是与<strong>网络请求</strong>相关的，例如 XMLHttpRequest 和 Fetch API 会受到同源策略的限制</p> <p>解决方案：</p> <ul><li><strong>CORS</strong></li> <li><strong>JSONP</strong></li> <li><strong>Node 中间层</strong></li></ul> <h3 id="jsonp"><a href="#jsonp" class="header-anchor">#</a> JSONP</h3> <p>由于通过 <code>&lt;script&gt;</code> 标签引入的 js 是不受同源策略的限制的，当需要通信时，可将 <code>&lt;srcipt&gt;</code> 的 src 属性指向一个需要访问的地址并提供一个回调函数来接收数据，该地址会将返回的数据作为该回调函数的参数并执行该函数，因此就可以在回调函数中获取数据了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> hasParam <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span>
  url <span class="token operator">+=</span> hasParam <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'&amp;'</span> <span class="token operator">:</span> <span class="token string">'?'</span> <span class="token operator">+</span> <span class="token string">'callback='</span> <span class="token operator">+</span> callback
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    url <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token string">'&amp;'</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> url
  script<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">true</span>
  script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text/javascript'</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li><p><strong>优点</strong>：不受同源策略的限制，兼容性更好</p></li> <li><p><strong>缺点</strong>：只支持 GET 请求而不支持 POST 等其他类型的请求</p></li></ul> <h3 id="cors"><a href="#cors" class="header-anchor">#</a> CORS</h3> <p>CORS（全称为跨域资源共享）是一种机制，该机制使用附加的 HTTP 头来告诉浏览器，哪些域名可以访问该资源</p> <p>与 CORS 相关的 HTTP 响应头字段</p> <ul><li><strong>Access-Control-Allow-Origin</strong>：告知浏览器哪些域名（Origin）可以访问</li> <li><strong>Access-Control-Expose-Headers</strong>：在跨域请求时，一般只能拿到一些最基本的响应头，若需获取特定响应头，可通过该字段暴露给浏览器</li> <li><strong>Access-Control-Allow-Methods</strong>：哪些请求方法可被接受</li> <li><strong>Access-Control-Max-Age</strong>：预检的存活时间</li></ul> <p>浏览器将 CORS 请求分为<strong>简单请求</strong>和<strong>复杂请求</strong></p> <h4 id="简单请求"><a href="#简单请求" class="header-anchor">#</a> 简单请求</h4> <p>简单请求不会触发 <strong>CORS 预检请求</strong>，若请求满足所有下述条件可视为“简单请求”</p> <ul><li>使用下列方法之一
<ul><li>GET</li> <li>HEAD</li> <li>POST</li></ul></li> <li>部分首部
<ul><li>Accept</li> <li>Accept-Language</li> <li>Content-Language</li> <li>Content-Type （需要注意额外的限制）</li> <li>...</li></ul></li> <li>Content-Type 的值仅限于下列三者之一
<ul><li>text/plain（文本文件）</li> <li>multipart/form-data（表单形式：二进制数据或数据较大）</li> <li>application/x-www-form-urlencoded（表单形式：对载荷进行编码并序列化）</li></ul></li></ul> <h4 id="复杂请求"><a href="#复杂请求" class="header-anchor">#</a> 复杂请求</h4> <p>复杂请求需要在正式发起请求前需要发送一个<strong>预检请求</strong>（OPTIONS 方法）到服务器，以获知服务器是否允许该实际请求，预检请求可以避免跨域请求对服务器产生未预期的影响（<strong>因为跨域时请求会发送到服务端且服务端会处理该请求并响应，只是响应被浏览器拦截了而已，因此才需要先发送预检请求</strong>）</p> <h3 id="node-中间层"><a href="#node-中间层" class="header-anchor">#</a> Node 中间层</h3> <p>原理：<strong>跨域问题是浏览器的同源策略的安全机制引起的，而服务器之间的相互调用是不受同源限制的，当前端和 Node 中间层在同一个域时，Node 中间层将前端的请求转发到真实的服务器，然后将请求返回的数据再传到前端，就可实现跨域</strong></p> <p>Node 作为中间层的作用：</p> <ul><li>BFF（backend for frontend） 架构: 为前端提供统一规范的接口，并且可对后端返回的数据进行二次处理</li> <li>控制路由逻辑</li></ul> <h2 id="跨域脚本api访问"><a href="#跨域脚本api访问" class="header-anchor">#</a> 跨域脚本API访问</h2> <blockquote><p>JavaScript 的 API 中，如 <code>iframe.contentWindow</code>、<code>window.parent</code>、 <code>window.open</code> 和 <code>window.opener</code> 允许文档间直接相互引用。当两个文档的源不同时，这些引用将对 <code>Window</code> 和 <code>Location</code> 对象的访问添加限制。</p></blockquote> <p>也就是说非同源的<strong>文档与文档（iframe）</strong>、<strong>文档与页面</strong>以及<strong>页面与页面</strong>之间的访问也存在跨域的限制</p> <p>解决方案：</p> <ul><li><strong>window.postMessage</strong>(推荐)</li> <li><strong>document.domain</strong></li> <li><strong>window.name</strong></li></ul> <h3 id="window-postmessage"><a href="#window-postmessage" class="header-anchor">#</a> window.postMessage</h3> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/postMessage" target="_blank" rel="noopener noreferrer">window.postMessage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是 HTML5 中的API，该方法可以安全的实现跨域通信，能够处理以下问题：</p> <ul><li>页面和其打开的新窗口的通信</li> <li>页面与嵌套的 iframe 的通信</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 发送消息</span>
otherWindow<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> targetOrigin<span class="token punctuation">,</span> <span class="token punctuation">[</span>transfer<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 接收消息</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> receiveMessage<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>接收消息时需要检查 origin 和 source 属性，否则会导致跨站点脚本攻击</p></div> <h3 id="document-domain"><a href="#document-domain" class="header-anchor">#</a> document.domain</h3> <p><code>document.domain</code> 可解决二级域名相同的情况下的跨域问题，例如 <code>a.example.com</code> 和 <code>b.example.com</code> 等域名可使用该方式，通常用于处理页面与嵌套的 iframe 的通信，需要两个页面都设置 <code>document.domain</code> 为相同二级域名即可实现跨域</p> <h3 id="window-name"><a href="#window-name" class="header-anchor">#</a> window.name</h3> <p>window.name 用来设置/获取窗口的名称，在页面设置的 name 属性，iframe 也可以访问，通过这个特性即可完成页面与 iframe 之间的跨域问题</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- a.example.com --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b.example.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
window<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'稻草人'</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- b.example.com --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 稻草人</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="跨域数据存储访问"><a href="#跨域数据存储访问" class="header-anchor">#</a> 跨域数据存储访问</h2> <blockquote><p>访问存储在浏览器中的数据，是以源进行分割。每个源都拥有自己单独的存储空间，一个源中的 JavaScript 脚本不能对属于其他源的数据进行读写操作。</p></blockquote> <p>浏览器存储包括：</p> <ul><li><strong>sessionStorage</strong></li> <li><strong>localStorage</strong></li> <li><strong>IndexedDB</strong></li> <li><strong>Cookies</strong></li></ul> <h2 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h2> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy" target="_blank" rel="noopener noreferrer">浏览器的同源策略<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://segmentfault.com/a/1190000015597029" target="_blank" rel="noopener noreferrer">不要再问我跨域的问题了<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/ljianshu/Blog/issues/55" target="_blank" rel="noopener noreferrer">九种跨域方式实现原理（完整版）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://stackoverflow.com/questions/4007969/application-x-www-form-urlencoded-or-multipart-form-data" target="_blank" rel="noopener noreferrer">application/x-www-form-urlencoded or multipart/form-data?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/6844903895030824974" target="_blank" rel="noopener noreferrer">跨域解决方案之Node中间层<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/6/2020, 2:43:50 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend-knowledge/css/clear-float.html" class="prev">
        清除浮动
      </a></span> <span class="next"><a href="/frontend-knowledge/browser/critical-rendering-path.html">
        关键渲染路径
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/frontend-knowledge/assets/js/app.94920fe9.js" defer></script><script src="/frontend-knowledge/assets/js/2.bbdaf1c6.js" defer></script><script src="/frontend-knowledge/assets/js/22.86a1e067.js" defer></script>
  </body>
</html>
